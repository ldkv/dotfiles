_subdirectory: template
_templates_suffix: ".j2"

user_name:
  type: str
  help: "Name for git config"
  default: "Vu LE"

user_email:
  type: str
  help: "Email for git config"
  default: "ledkvu@gmail.com"

_tasks:
  - name: "Oneshot setup after first copy"
    command: |
      echo "Executing setup routine: {{ _copier_conf|to_json }}"
      {%if _copier_conf.os == 'windows'%}pwsh -c {%endif%}uv run -m scripts.setup {%if _copier_conf.data.simulator%}--simulator{%endif%}
    when: "{{ _copier_operation == 'copy' }}"
_migrations:
  - name: "Update routine after every migration/update"
    command: |
      echo "Executing update routine: {{ _copier_conf|to_json }}"
      {%if _copier_conf.os == 'windows'%}pwsh -c {%endif%}uv run -m scripts.update
    when: "{{ _stage == 'after' }}"
