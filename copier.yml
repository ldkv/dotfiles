_subdirectory: template
_templates_suffix: ".j2"

_message_before_copy: |
  The template will be generated into "{{ _copier_conf.dst_path }}".
  It is REQUIRED that the target is a sub-directory inside your $HOME directory.
  Otherwise, the dotfiles will not work as expected. Please abort and specify a correct target.

user_name:
  type: str
  help: "Name for git config"
  default: "Vu LE"

user_email:
  type: str
  help: "Email for git config"
  default: "ledkvu@gmail.com"

_tasks:
  - name: "Oneshot setup after first copy"
    command: |
      {%if _copier_conf.os == 'windows'%}pwsh -c {%endif%}uv run setup.py --setup
    when: "{{ _copier_operation == 'copy' }}"
  - name: "Executing update routine"
    command: |
      {%if _copier_conf.os == 'windows'%}pwsh -c {%endif%}uv run setup.py --update --version={{ _copier_conf.vcs_ref }} {%if _copier_conf.data.simulator%}--simulator{%endif%}
